{
  "command": "huawei_smartax_display_mac-address",
  "source": "ntc",
  "status": "failed_validation",
  "match_ratio": null,
  "textfsm_rows": 10,
  "ttp_rows": 0,
  "ttp_template": "<group name=\"service_port_index_type_mac_mac_type_fsp_ont_id_gem_index_vlan_id\">\n       {{SERVICE_PORT_INDEX | re(\"\\\\d+\")}} - {{TYPE}} {{MAC | re(\"[0-9a-fA-F:.-]+\")}} {{MAC_TYPE | re(\"[0-9a-fA-F:.-]+\")}} {{FSP | ORPHRASE}} {{ONT_ID | re(\"\\\\d+\")}} {{GEM_INDEX}} {{VLAN_ID | re(\"\\\\d+\")}}\n</group>\n<group name=\"type_mac_mac_type_fsp_vlan_id\">\n       - - {{TYPE}} {{MAC | re(\"[0-9a-fA-F:.-]+\")}} {{MAC_TYPE | re(\"[0-9a-fA-F:.-]+\")}} {{FSP | ORPHRASE}} - - {{VLAN_ID | re(\"\\\\d+\")}}\n</group>",
  "error": "TTP template produced 0 rows",
  "textfsm_parsed": [
    {
      "SERVICE_PORT_INDEX": "1",
      "TYPE": "gpon",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "static",
      "FSP": "0 /1 /0",
      "ONT_ID": "1",
      "GEM_INDEX": "1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    },
    {
      "TYPE": "eth",
      "MAC": "aaaa-aaaa-aaaa",
      "MAC_TYPE": "dynamic",
      "FSP": "0 /1 /1",
      "VLAN_ID": "1"
    }
  ],
  "ttp_parsed": [
    {}
  ],
  "cli_content": "  It will take some time, please wait...\n  -----------------------------------------------------------------------\n   SRV-P BUNDLE TYPE MAC            MAC TYPE F /S /P   VPI  VCI   VLAN ID\n   INDEX INDEX\n  -----------------------------------------------------------------------\n       1     -  gpon aaaa-aaaa-aaaa static   0 /1 /0   1    1           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n       -     -  eth  aaaa-aaaa-aaaa dynamic  0 /1 /1   -    -           1\n  -----------------------------------------------------------------------\n  Total: 10\n  Note: F--Frame, S--Slot, P--Port, F/S/P indicates PW Index for PW,\n        A--The MAC address is learned or configured on the aggregation \nport,\n        VPI indicates ONT ID for PON, VCI indicates GEM index for GPON,\n        v/e--vlan/encap, pritag--priority-tagged,\n        ppp--pppoe, ip--ipoe, ip4--ipv4oe, ip6--ipv6oe\n",
  "textfsm_template": "Value SERVICE_PORT_INDEX (\\d+)\nValue BUNDLE_INDEX (\\d+)\nValue TYPE (eth|gpon|epon)\nValue Required MAC ([0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4})\nValue MAC_TYPE (static|dynamic)\nValue FSP (\\d+\\s*\\/\\d+\\s*\\/\\d+)\nValue ONT_ID (\\d+)\nValue GEM_INDEX (\\d+)\nValue VLAN_ID (\\d+)\n\n\nStart\n  ^\\s*It\\s*will\\s*take\\s*some\\s*time,\\s*please\\s*wait...\n  ^\\s*-\n  ^\\s*SRV-P\\s*BUNDLE\\s*TYPE\\s*MAC\\s*MAC\\s*TYPE\\s*F\\s*\\/S\\s*\\/P\\s*VPI\\s*VCI\\s*VLAN\\s*ID\\s*$$\n  ^\\s*INDEX\\s*INDEX\\s*$$ -> MACs\n  ^\\s*$$\n  ^. -> Error\n\nMACs\n  ^\\s*(-|${SERVICE_PORT_INDEX})\\s*(-|${BUNDLE_INDEX})\\s*${TYPE}\\s*${MAC}\\s*${MAC_TYPE}\\s*${FSP}\\s*(-|${ONT_ID})\\s*(-|${GEM_INDEX})\\s*${VLAN_ID} -> Record\n  ^\\s*-\n  ^\\s*Total:\\s*\\d+ -> EOF\n  ^\\s*$$\n  ^. -> Error\n"
}